{
  "apps" : [{
    "name": "clusteredAPInode",
    "cwd": "/home/pi/cluster/current",
    "script": "nodeworker2.js",
    "watch": "nodeworker2.js",
    "instances"  : 4,
    "max_restarts" : 10,
    "exec_mode"  : "cluster",
    "env": {
      "NODEPORT": 8010,
      "REDIS_SSLTUNNEL": false,
      "TIMEOFFSET": 0.0,
      "NODE_ENV": "development"
    },
    "env_production": {
      "NODEPORT": 8010,
      "REDIS_SSLTUNNEL": false,
      "TIMEOFFSET": 0.0,
      "NODE_ENV": "production"
    }
  }],
  "deploy" : {
    "production": {
      "user": "pi",
      "host": [
        "192.168.69.244",
        "192.168.69.243",
        "192.168.69.241",
        "192.168.69.240"
      ],
      "ref": "origin/master",
      "repo": "git@github.com:giancarlobonansea/clusterednode-worker.git",
      "path": "~/cluster",
      "post-deploy": "npm install && pm2 startOrReload ecosystem.json --env production",
      "env": {
        "NODE_ENV": "production"
      }
    }
  }
}
